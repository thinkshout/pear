'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getProjectVersion = require('get-project-version');

var _getProjectVersion2 = _interopRequireDefault(_getProjectVersion);

var _getLicense = require('./get-license');

var _getLicense2 = _interopRequireDefault(_getLicense);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var license = void 0;
var version = void 0;

/**
 * Returns a formatted array of header parts.
 * @param  {Object} opts Plugin options passed in
 * @return {Array}       Returns an Array of license header parts. In specific returns the license and version number
 */

exports.default = function (opts) {

  if (!license) {
    // get the license file contents
    license = (0, _getLicense2.default)(opts);

    // create the version string
    version = (0, _getProjectVersion2.default)({
      tag: opts.version,
      commit: opts.commit
    });
  }

  return [license, version];
};